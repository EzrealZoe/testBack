<?php
header('Access-Control-Allow-Origin:http://192.168.3.96:8080');
header('Access-Control-Allow-Headers:content-type');
header('Access-Control-Request-Method:GET,POST');
header("Access-Control-Allow-Credentials:true");
$ans = array("status" => "200");
$data = json_decode(file_get_contents("php://input"), true);
$district_cate = array();
$district_cate[1] = [40000];
$district_cate[2] = [200];
$district_cate[3] = [300];
$district_cate[4] = [400, 401, 459, 461, 472, 490, 491, 4108, 4114, 4125, 4130, 42249, 42253];
$district_cate[5] = [500, 502, 504, 506, 515, 521, 522, 524, 528, 534, 544, 546, 551, 571, 572, 584, 596, 5131];
$district_cate[6] = [600, 601, 602, 603, 604, 605, 610, 611, 618, 619, 620, 641, 680];
$district_cate[7] = [700, 701, 703, 704, 705, 706, 707, 748, 41226];
$district_cate[8] = [800, 806, 807, 813, 817, 820, 824, 831, 834, 835, 838, 843, 847, 854];
$district_cate[9] = [900, 901, 903, 904, 905, 906, 907, 908, 909, 910, 912, 915, 926, 944, 970, 980, 990];
$district_cate[10] = [1000, 1008, 1011, 1013, 1014, 41123, 41124, 41128, 41130, 41131, 41133, 41135, 42248];
$district_cate[11] = [1100, 1101, 1104, 1106, 1112, 1116, 1118, 1119, 1123, 1124, 1128, 1145, 1167];
$district_cate[12] = [1200, 1205, 1210, 1214, 1218, 1220, 1227, 1232, 1236, 1239, 1246, 1253, 1254, 1266, 1270, 1282, 41428];
$district_cate[13] = [1300, 1301, 1306, 1318, 1322, 1323, 1324, 1326, 1339, 41092, 41100];
$district_cate[14] = [1400, 1407, 1417, 1425, 1426, 1429, 1430, 1432, 1442, 42075];
$district_cate[15] = [1500, 1506, 1507, 1509, 1510, 1511, 1535, 1542, 1552, 1568, 1580, 42092, 42094, 42096];
$district_cate[16] = [1600, 1601, 1602, 1603, 1606, 1609, 1611, 1612, 1614, 1644, 1681];
$district_cate[17] = [1700, 1703, 1707, 1719, 1722, 1723, 1726, 1727, 1728, 1731, 1788];
$district_cate[18] = [1800, 1805, 1807, 1808, 1809, 1811, 1812, 1815, 1818, 1819, 1821, 1828, 1849, 1850, 1875, 1879, 41626];
$district_cate[19] = [1900, 1902, 1908, 1911, 1913, 1916, 1918, 1920, 1922, 1925, 1927, 1928, 19100, 41666];
$district_cate[20] = [2000, 2001, 2002, 2007, 41934, 41942, 41950, 41951, 41957];
$district_cate[21] = [2100, 2105, 2106, 2109, 2110, 2111, 2114, 2115, 2117, 2118, 2120, 2122, 2127, 2163, 2178, 2187, 21115, 21119, 41880, 41891, 41909];
$district_cate[22] = [2200, 2201, 2217, 2218, 2228, 2234, 2243, 22115, 22124, 41975, 41976, 41977, 41979, 41980, 41981, 41983];
$district_cate[23] = [2300, 2301, 2302, 42149, 42152, 42155, 42164, 42168, 42178, 42188, 42193, 42205, 42214, 42224, 42232, 42240, 42241, 42242];
$district_cate[24] = [2400, 2404, 2406, 2408, 2411];
$district_cate[25] = [2500, 2528, 42102, 42105, 42106, 42110, 42116, 42122];
$district_cate[26] = [2600, 2602, 2615, 41995, 42013, 42031, 42043];
$district_cate[27] = [2700, 2701, 2712, 2722, 2723, 2733, 2734, 2735, 2736, 2741, 2750, 2758, 2779, 2784, 42269];
$district_cate[28] = [2800, 2801, 2802, 2803, 2804, 2805, 2809, 2810, 2817, 2823, 2833, 2837, 2848, 2853, 2859, 2865, 2869, 2870, 2871, 2872, 2874];
$district_cate[29] = [2900, 2901, 2920, 2921, 2924, 2932, 2942, 2949, 2960];
$district_cate[30] = [3000, 3001, 3003, 3004, 3005, 3006, 3008, 3009, 3010, 3011, 3012, 41778, 41779, 41780, 41781, 41782, 41783, 41784, 41785, 41786, 41787];
$district_cate[31] = [3100, 3101, 3102, 3107, 3115, 42243];
$district_cate[32] = [3200, 3201, 3202];
$district_cate[33] = [3300, 42244];
$district_cate[34] = [100];
$district_cate[42245] = [42246];
$district_cate[100] = [101, 102, 103, 104, 105, 41015, 41016, 41017, 41018, 41019, 41020, 41021, 41022, 41023, 41024, 41025, 41026, 41027];
$district_cate[200] = [202, 203, 204, 205, 206, 208, 210, 41294, 41295, 41296, 41297, 41298, 41299, 41300, 41301, 41302, 41303, 41304, 41305];
$district_cate[300] = [2101, 2102, 2103, 2107, 2131, 2132, 2134, 2136, 2137, 2138, 2139, 2141, 2142, 41788, 41789, 41790, 41791, 41792, 41793, 41794, 41795, 41796, 41797, 41798, 41799, 41800, 41801, 41802, 41803, 41804, 41805, 41806, 41807, 41808, 41809, 41810, 41811, 41812, 41813, 41814];
$district_cate[400] = [444, 445, 446, 448, 4131, 4132, 4133, 4134, 4135, 4137, 4138, 4139, 4140, 4141, 4142, 41028, 41029, 41030, 41031, 41032, 41033, 41034, 41035, 42257];
$district_cate[401] = [402, 403, 404, 405, 406, 407, 408, 409, 411, 412, 413, 414, 415, 41041, 41042, 41043, 41044, 41045, 41046];
$district_cate[459] = [417, 418, 419, 420, 421, 422, 423, 424, 425, 449, 451, 452, 453, 454, 455, 456, 457, 458, 4143, 4144, 4145, 41050, 41051, 41052, 41053];
$district_cate[461] = [442, 443, 460, 462, 463, 464, 465, 466, 467, 468, 469, 470, 41054, 41055, 41056, 41057, 41058];
$district_cate[472] = [471, 473, 474, 475, 476, 477, 478, 479, 41059, 41060, 41061];
$district_cate[490] = [480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 2203, 41036, 41037, 41038];
$district_cate[491] = [492, 493, 494, 495, 496, 497, 498, 499, 41065, 41066];
$district_cate[500] = [501, 585, 5105, 5114, 5126, 5130, 41529, 41530, 41531, 41532, 41533, 41534, 42270, 42271];
$district_cate[502] = [503, 576, 578, 579, 41551, 41552, 41553, 41554, 41555];
$district_cate[504] = [505, 508, 509, 510, 511, 512, 513, 41559, 41560, 41561, 41562, 41563];
$district_cate[506] = [561, 562, 563, 564, 565, 567, 41579, 41580, 41581];
$district_cate[515] = [516, 517, 518, 519, 590, 41571];
$district_cate[521] = [520, 589, 591, 592, 593, 594, 41547, 41548, 41549, 41550];
$district_cate[522] = [5106, 5107, 5108, 5109, 5110, 5111, 5112, 5113, 41582, 41583];
$district_cate[524] = [560, 5115, 5116, 5117, 5118, 5119, 5120, 5121, 5122, 5123, 5124, 41577, 41578];
$district_cate[528] = [526, 527, 529, 530, 531, 41535, 41536, 41537, 41538, 41539];
$district_cate[534] = [532, 533, 535, 536, 537, 538, 539, 541, 41540, 41541, 41542, 41543, 41544, 41545, 41546];
$district_cate[546] = [542, 543, 545, 548, 549, 41564, 41565, 41566, 41567, 41568];
$district_cate[551] = [550, 552, 553, 554, 555, 556, 557, 558, 559, 41585];
$district_cate[571] = [568, 569, 41556, 41557, 41558];
$district_cate[572] = [587, 588, 41572, 41573, 41574];
$district_cate[584] = [580, 581, 582, 583, 41569, 41570];
$district_cate[596] = [595, 597, 598, 599, 5100, 5101, 5102, 5103, 5104, 41584];
$district_cate[600] = [612, 613, 614, 615, 616, 645, 667, 671, 672, 673, 674, 679, 41227, 41228, 41229, 41230, 41231, 41232, 41233];
$district_cate[601] = [622, 623, 624, 625, 626, 627, 629, 630, 669, 41234, 41235, 41236, 41237, 41238, 41239, 41240];
$district_cate[602] = [634, 635, 636, 637, 638, 639, 41287, 41288, 41289, 41290];
$district_cate[603] = [643, 644, 648, 668, 670, 676, 41279, 41280, 41281, 41282, 41283];
$district_cate[604] = [617, 651, 652, 653, 654, 657, 658, 659, 660, 41293];
$district_cate[605] = [662, 663, 664, 666, 41291, 41292];
$district_cate[610] = [677, 678, 41264, 41265, 41266, 41267, 41268, 41269, 41270, 41271, 41272, 41273, 41274, 41275, 41276, 41277, 41278];
$district_cate[611] = [621, 655, 656, 41258, 41259, 41260, 41261, 41262, 41263];
$district_cate[618] = [632, 633, 640, 41241, 41242, 41243, 41244, 41245, 41246];
$district_cate[619] = [646, 41247, 41248, 41249, 41250, 41251, 41252, 41253];
$district_cate[620] = [631, 647, 649, 650, 41254, 41255, 41256, 41257];
$district_cate[641] = [642, 41284, 41285, 41286];
$district_cate[680] = [606, 607, 608, 609];
$district_cate[700] = [710, 711, 712, 713, 714, 41206, 41207, 41208, 41209, 41210];
$district_cate[701] = [715, 716, 717, 718, 719, 41211, 41212, 41213, 41214];
$district_cate[703] = [727, 728, 729, 730, 41215, 41216];
$district_cate[704] = [732, 733, 734, 735, 736, 41220, 41221];
$district_cate[705] = [740, 741, 743, 744, 41225];
$district_cate[706] = [747, 41217, 41218, 41219];
$district_cate[707] = [708, 742, 745, 746, 41224];
$district_cate[748] = [731, 737, 738, 739, 41222, 41223];
$district_cate[800] = [801, 802, 41137, 41138, 41139, 41140, 41141, 41142, 41143, 41144, 41145, 41146, 41147, 42252];
$district_cate[806] = [803, 804, 805, 41197, 41198, 41199, 41200];
$district_cate[807] = [808, 809, 812, 41148, 41149, 41150, 41151, 41152, 41153, 41154, 42258];
$district_cate[813] = [814, 815, 816, 41155, 41156, 41157, 41158];
$district_cate[817] = [819, 41159, 41160, 41161, 41162, 41163, 41164];
$district_cate[820] = [822, 41165, 41166, 41167, 41168, 41169];
$district_cate[824] = [823, 825, 41170, 41171, 41172, 41173];
$district_cate[831] = [827, 829, 830, 41174, 41175, 41176, 41177];
$district_cate[834] = [41178, 41179, 41180, 41181, 41182, 41183];
$district_cate[835] = [836, 41184, 41185, 41186, 41187, 41188, 41189];
$district_cate[838] = [839, 840, 41190, 41191, 41192, 41193, 41194];
$district_cate[843] = [841, 842, 844, 845, 846, 41201, 41202];
$district_cate[847] = [848, 849, 41195, 41196];
$district_cate[854] = [850, 851, 852, 41203, 41204, 41205];
$district_cate[900] = [925, 933, 959, 961, 997, 41480, 41481, 41482, 41483, 41484];
$district_cate[901] = [935, 936, 937, 938, 939, 41485, 41486, 41487, 41488, 41489, 41490, 41491];
$district_cate[903] = [902, 946, 9101, 41492, 41493, 41494, 41495, 41496];
$district_cate[904] = [924, 934, 953, 954, 955, 956, 957, 958, 960, 962, 41524];
$district_cate[905] = [940, 941, 942, 963, 964, 965, 966, 967, 968, 41504, 41505, 41506, 42251];
$district_cate[906] = [969, 972, 973, 974, 976, 977, 978, 998, 41507, 41508, 41509, 41510];
$district_cate[907] = [979, 982, 983, 984, 985, 986, 987, 988, 992, 995, 41511, 41512];
$district_cate[908] = [991, 993, 994, 996, 41513, 41514];
$district_cate[909] = [989, 999, 9100, 9102, 9103, 9105, 9107, 9108, 41520, 41521, 41522, 41523];
$district_cate[910] = [911, 913, 914, 41515];
$district_cate[912] = [916, 917, 918, 919, 920, 921, 922, 923, 41528];
$district_cate[915] = [975, 9104, 41516, 41517];
$district_cate[926] = [927, 929, 930, 931, 932, 9109, 41525, 41526];
$district_cate[944] = [945, 947, 948, 949, 950, 951, 41527];
$district_cate[970] = [943, 952, 971, 41502, 41503];
$district_cate[980] = [981, 41497, 41498, 41499, 41500, 41501];
$district_cate[990] = [41518, 41519];
$district_cate[1000] = [1003, 1005, 1041, 1055, 41104, 41105, 41106, 41107, 41108];
$district_cate[1008] = [1007, 1009, 1043, 41109, 41110, 41111, 41112, 41113, 41114];
$district_cate[1011] = [41115, 41116, 41117];
$district_cate[1013] = [1057, 1058, 1059, 1060, 1061, 1063, 41121, 41122];
$district_cate[1014] = [1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 41118, 41119, 41120];
$district_cate[1100] = [1108, 1109, 1110, 1111, 41306, 41307, 41308, 41309, 41310, 41311, 41312, 41313, 41314];
$district_cate[1101] = [1103, 1134, 41315, 41316, 41317, 41318, 41319, 41320, 42267];
$district_cate[1104] = [1105, 1130, 1131, 1175, 41350, 41351];
$district_cate[1106] = [1135, 1136, 1137, 1138, 1139, 41331, 41332, 41333, 41334, 41335, 41336, 42265, 42266];
$district_cate[1112] = [1113, 1114, 1115, 1140, 1141, 1144, 41337, 41338, 42264];
$district_cate[1116] = [1117, 1148, 1150, 1151, 1174, 41348, 41349];
$district_cate[1118] = [1153, 1154, 1155, 1156, 1157, 1158, 1159, 41346, 41347];
$district_cate[1119] = [1120, 1160, 1162, 1163, 1164, 41321, 41322, 41323, 41324, 41325, 41326];
$district_cate[1123] = [1165, 1170, 1171, 1172, 41342, 41343, 41344, 41345];
$district_cate[1124] = [1125, 1126, 1127, 1173, 41339, 41340, 41341];
$district_cate[1128] = [1129, 1132, 1133, 41327, 41328, 41329, 41330];
$district_cate[1145] = [1146, 1149, 1152, 41352, 41353, 41354];
$district_cate[1167] = [1166, 1168, 1169, 41355, 41356];
$district_cate[1200] = [1207, 1208, 1209, 41383, 41384, 41385, 41386];
$district_cate[1205] = [1201, 1202, 1203, 1206, 1257, 41415, 41416, 41417];
$district_cate[1210] = [1211, 1212, 1213, 41391, 41392, 41393, 41394];
$district_cate[1214] = [1215, 1216, 1217, 41387, 41388, 41389, 41390];
$district_cate[1218] = [1219, 41395, 41396, 41397, 41398, 41399];
$district_cate[1220] = [1221, 41400, 41401, 41402];
$district_cate[1227] = [1222, 1223, 1224, 1225, 1226, 1228, 1229, 1230, 41410, 41411, 41412];
$district_cate[1232] = [1231, 1233, 1234, 41422, 41423];
$district_cate[1236] = [1271, 1275, 1276, 1277, 1278, 41418, 41419, 41420];
$district_cate[1239] = [1237, 1238, 1240, 1242, 1281, 41413, 41414];
$district_cate[1246] = [1243, 1244, 1245, 1247, 41424];
$district_cate[1253] = [1252, 41403, 41404, 41405];
$district_cate[1254] = [41406, 41407, 41408, 41409];
$district_cate[1266] = [1256, 1265, 1267, 1268, 1269, 41425, 41426];
$district_cate[1270] = [1272, 1273, 1274, 41427];
$district_cate[1282] = [1258, 1260, 1261, 1262, 1263, 1264, 41429];
$district_cate[1300] = [1336, 1337, 1338, 41070, 41071, 41072, 41073, 41074, 41075, 41076];
$district_cate[1301] = [1341, 1343, 1344, 1346, 1347, 1348, 41077, 41078, 41079, 41080, 41081];
$district_cate[1306] = [1303, 1304, 1349, 1350, 1351, 1352, 1353, 1354, 1355, 1356, 1357, 1358, 1391, 41095];
$district_cate[1318] = [1320, 41082, 41083, 41084, 41085];
$district_cate[1322] = [1363, 1364, 1366, 1367, 1368, 1369, 1370, 1371, 1372, 41086, 41087];
$district_cate[1323] = [1359, 1360, 1361, 1362, 41088, 41089];
$district_cate[1324] = [1365, 1383, 1384, 1385, 1386, 1387, 1388, 1389, 1390, 1392, 1393, 1394, 1395, 41096, 41097, 41098, 41099];
$district_cate[1326] = [1302, 1307, 1308, 1310, 1311, 1312, 1313, 1314, 1315, 1316, 1317, 41093, 41094];
$district_cate[1339] = [1305, 1340, 1342, 1345, 41090, 41091];
$district_cate[1400] = [1401, 1402, 1403, 1405, 1406, 42050, 42051, 42052, 42053, 42054, 42055, 42056, 42057, 42273];
$district_cate[1407] = [1408, 1409, 1410, 1411, 1445, 1446, 1447, 1448, 1492, 1493, 1494, 42064, 42065, 42066];
$district_cate[1417] = [1412, 1413, 1414, 1416, 1418, 1419, 1420, 1421, 1422, 1423, 1424, 42068, 42069];
$district_cate[1425] = [1449, 1450, 1451, 1452, 1453, 1454, 1455, 1456, 1457, 1465, 42071, 42072];
$district_cate[1426] = [1427, 1458, 1459, 1460, 1461, 1462, 1463, 1464, 1490, 1491, 42067];
$district_cate[1429] = [1472, 1473, 1474, 1475, 1476, 1477, 1478, 1479, 42073, 42074];
$district_cate[1430] = [1431, 1480, 1481, 1482, 1483, 1484, 1485, 1486, 1487, 1488, 42070];
$district_cate[1432] = [1434, 1435, 1436, 1437, 1438, 1439, 1440, 1441, 1489, 42061, 42062, 42063];
$district_cate[1442] = [1444, 42058, 42059, 42060];
$district_cate[1500] = [1502, 1503, 1504, 1505, 42076, 42077, 42078, 42079];
$district_cate[1506] = [1529, 1530, 1531, 1532, 1533, 1534, 42091];
$district_cate[1507] = [1536, 1537, 1538, 1539, 1540, 1541, 42087];
$district_cate[1509] = [1549, 1550, 1551, 42085];
$district_cate[1510] = [1554, 1555, 1556, 1557, 1558, 42086];
$district_cate[1511] = [1563, 1564, 1565, 1566, 1567, 42088, 42089];
$district_cate[1535] = [1559, 1560, 1561, 1562, 42081];
$district_cate[1542] = [1508, 1543, 1544, 1545, 1546, 1547, 1548, 42090];
$district_cate[1552] = [1553, 42080];
$district_cate[1580] = [1512, 1569, 1570, 1571, 42082, 42083, 42084];
$district_cate[1600] = [1620, 1621, 1622, 1623, 1624, 1625, 1626, 41357, 41358, 41359, 41360, 41361, 41362];
$district_cate[1601] = [1627, 1628, 1629, 41373, 41374];
$district_cate[1602] = [1630, 1631, 1632, 1633, 1634, 41371, 41372];
$district_cate[1603] = [1605, 1635, 1636, 1637, 1638, 1639, 41363, 41364, 41365, 41366, 41367];
$district_cate[1606] = [1607, 1640, 1642, 1643, 1680, 41375];
$district_cate[1609] = [1655, 1656, 1657, 1658, 1659, 1660, 1661, 1662, 41368, 41369, 41370];
$district_cate[1611] = [1663, 1664, 1665, 1666, 1667, 1668, 1669, 1670, 41382];
$district_cate[1612] = [1671, 1672, 1673, 1674, 1675, 1676, 1677, 41376, 41377];
$district_cate[1614] = [1616, 1617, 1618, 1619, 41378, 41379];
$district_cate[1644] = [1645, 1646, 1678, 41380];
$district_cate[1681] = [1608, 1648, 1649, 1650, 1651, 1652, 1653, 1654, 41381];
$district_cate[1700] = [1701, 1704, 1705, 1706, 41458, 41459, 41460, 41461, 41462, 42247, 42256, 42275];
$district_cate[1703] = [1702, 41472];
$district_cate[1707] = [1708, 1709, 1710, 1711, 1712, 1713, 1714, 1715, 1716, 1717, 41470, 41471];
$district_cate[1719] = [1718, 1720, 1735, 1736, 1737, 1738, 1739, 1785, 1786, 1787, 41478, 41479];
$district_cate[1722] = [1750, 1751, 1752, 1753, 1754, 1755, 1756, 1757, 1758, 41477];
$district_cate[1723] = [1724, 1729, 1759, 1760, 1761, 1762, 1763, 1765, 1766, 1767, 1768, 41475, 41476];
$district_cate[1726] = [1725, 1769, 1770, 1771, 1772, 1773, 1774, 1775, 1776, 1777, 1778, 1779, 1780, 1781, 1782, 1783, 1784, 41474];
$district_cate[1727] = [1734, 41463, 41464, 41465];
$district_cate[1728] = [1764, 41466, 41467, 41468, 41469];
$district_cate[1731] = [1732, 1733, 41473];
$district_cate[1788] = [1721, 1740, 1741, 1742, 1743, 1744, 1745, 1746, 1747, 1748, 1749];
$district_cate[1800] = [1802, 1803, 1804, 41586, 41587, 41588, 41589, 41590, 41591, 41592, 41593, 41594, 41595];
$district_cate[1805] = [1806, 1820, 1822, 1824, 1825, 1826, 41608, 41609, 41610];
$district_cate[1807] = [41611, 41612, 41613];
$district_cate[1808] = [1829, 1830, 1831, 1832, 1833, 41617, 41618];
$district_cate[1809] = [1835, 1836, 1837, 1838, 1839, 1841, 1842, 41620, 41621, 41622];
$district_cate[1811] = [1810, 1843, 41596, 41597, 41598, 41599];
$district_cate[1812] = [1844, 1845, 1846, 1848, 41623, 41624];
$district_cate[1815] = [1857, 1858, 1859, 1860, 1861, 1862, 1864, 41602, 41603, 41604, 41605, 41606, 41607, 42263];
$district_cate[1818] = [1872, 1873, 1874, 1876, 1877, 1878, 41600, 41601];
$district_cate[1819] = [1855, 1856, 41614, 41615, 41616];
$district_cate[1821] = [1834, 41625];
$district_cate[1879] = [1813, 1814, 1827, 1851, 1852, 1853, 1854, 41619];
$district_cate[1900] = [1901, 1905, 1906, 1907, 41627, 41628, 41629, 41630, 41631];
$district_cate[1902] = [1903, 1904, 1930, 1931, 1932, 1933, 41650, 41651, 41652];
$district_cate[1908] = [1909, 1910, 41638, 41639, 41640];
$district_cate[1911] = [1912, 1955, 1957, 41632, 41633, 41634, 41635, 41636, 41637];
$district_cate[1913] = [1914, 1915, 1958, 1959, 1960, 1961, 1962, 41641, 41642, 41643, 41644, 41645];
$district_cate[1916] = [1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 41660, 41661];
$district_cate[1918] = [1917, 1919, 1972, 1973, 1974, 1975, 1976, 41653, 41654];
$district_cate[1920] = [1921, 1977, 1978, 41657, 41658, 41659];
$district_cate[1922] = [1979, 1980, 1981, 1982, 41665];
$district_cate[1925] = [1923, 1924, 1926, 1994, 1995, 1996, 1998, 1999, 41646, 41647, 41648, 41649];
$district_cate[1927] = [1934, 1935, 1936, 1937, 1938, 1939, 1940, 1941, 1942, 1943, 41662];
$district_cate[1928] = [1929, 1944, 1946, 1947, 1948, 1949, 1950, 1951, 1952, 1953, 41663, 41664];
$district_cate[2000] = [2022, 2023, 2025, 41918, 41919, 41920, 41921, 41922, 41923, 41924];
$district_cate[2001] = [2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2056, 41927, 41928, 41929, 41930, 41931];
$district_cate[2002] = [2018, 2019, 2020, 2021, 41932, 41933];
$district_cate[2007] = [2051, 2052, 41925, 41926];
$district_cate[2100] = [2108, 2128, 2129, 2135, 2145, 2146, 2147, 2149, 2151, 2152, 41815, 41816, 41817, 41818, 41819, 41820, 41821, 41822, 41823, 42268];
$district_cate[2105] = [2143, 2144, 41829, 41830, 41831];
$district_cate[2106] = [2130, 41824, 41825, 41826, 41827, 41828];
$district_cate[2109] = [2153, 2155, 2156, 2157, 2165, 2168, 41841, 41842, 41843];
$district_cate[2110] = [2162, 2170, 2171, 2173, 2174, 2175, 41859, 41860, 41861];
$district_cate[2111] = [2180, 2181, 2182, 2183, 2184, 21116, 41873];
$district_cate[2114] = [41832, 41833, 41834, 41835, 41836, 41837, 41838];
$district_cate[2115] = [2116, 41863, 41864, 41865, 41866, 41867, 41868, 41869, 41870, 41871];
$district_cate[2117] = [41850, 41851, 41852, 41853, 41854];
$district_cate[2118] = [2188, 2190, 2193, 2197, 2198, 21100, 21101, 41855, 41856, 41857, 41858];
$district_cate[2120] = [2192, 2199, 21108, 21109, 21110, 21111, 21112, 41874];
$district_cate[2122] = [2123, 2124, 2125, 2126, 41839, 41840];
$district_cate[2127] = [2158, 2160, 2161, 2172, 41844, 41845, 41846];
$district_cate[2163] = [2166, 2167, 41847, 41848, 41849];
$district_cate[2178] = [2169, 2176, 2177, 2185, 41872];
$district_cate[2187] = [2189, 2191, 2194, 2195, 2196, 41862];
$district_cate[2200] = [2202, 2204, 2205, 2206, 2207, 2208, 2209, 2248, 2249, 41961, 41962, 41963, 41964, 41965];
$district_cate[2201] = [2250, 2251, 2252, 2253, 2254, 2255, 2256, 2257, 22112, 22113, 41970];
$district_cate[2217] = [2214, 2215, 2216, 2258, 2259, 2260, 2261, 41966, 41967];
$district_cate[2218] = [2219, 22103, 22104, 22105, 41969];
$district_cate[2228] = [2221, 2222, 2223, 2224, 2225, 2226, 2227, 2229, 41968];
$district_cate[2234] = [2235, 2241, 2264, 2265, 2266, 2267, 2268, 2269, 2270, 41973];
$district_cate[2243] = [2236, 2237, 2240, 2244, 2245, 2246, 2247, 41974];
$district_cate[2300] = [42137, 42138, 42139, 42140, 42141, 42142, 42144, 42250];
$district_cate[2301] = [42145, 42146, 42147, 42148];
$district_cate[2400] = [2401, 2402, 2412, 42123, 42124, 42125];
$district_cate[2404] = [2403, 42126, 42127];
$district_cate[2406] = [2407, 2409, 42128, 42129];
$district_cate[2408] = [42130, 42131, 42132, 42133, 42134];
$district_cate[2411] = [2410, 42135, 42136];
$district_cate[2500] = [2501, 2512, 2514, 42098, 42099, 42100, 42101];
$district_cate[2528] = [2502, 2511, 2513, 2515, 2516, 2517];
$district_cate[2600] = [41987, 41988, 41989, 41990, 41991, 41992, 41993, 41994];
$district_cate[2602] = [42001, 42002, 42003, 42004, 42005, 42006, 42007, 42008, 42009, 42010, 42011, 42012];
$district_cate[2615] = [2614, 42037, 42038, 42039, 42040, 42041, 42042];
$district_cate[2700] = [2702, 2703, 2704, 2706, 2748, 2752, 2756, 41736, 41737, 41738, 41739, 41740];
$district_cate[2701] = [2787, 2788, 41757, 41758];
$district_cate[2712] = [2707, 2708, 2709, 2710, 2713, 2714, 41741, 41742, 41743, 41744];
$district_cate[2722] = [2716, 2717, 2718, 2719, 2720, 2721, 2763, 2764, 2765, 2766, 2767, 41745, 41746, 41747, 41748, 41749, 41750];
$district_cate[2723] = [2724, 2725, 2726, 41751, 41752, 41753];
$district_cate[2733] = [2729, 2730, 2731, 2732, 41764, 41765];
$district_cate[2734] = [2768, 2769, 2770, 2771, 2772, 2773, 2774, 2775, 2776, 2777, 2778, 41766];
$district_cate[2735] = [2785, 2786, 41759, 41760];
$district_cate[2736] = [2738, 2739, 2740, 2743, 2744, 2746, 2747, 41768, 41769, 41770, 41771];
$district_cate[2741] = [2742, 41754, 41755, 41756];
$district_cate[2750] = [2749, 2751, 2753, 2754, 2755, 2757, 41773];
$district_cate[2758] = [2711, 2759, 2760, 2761, 2762, 41772];
$district_cate[2779] = [2728, 2780, 2781, 41767];
$district_cate[2784] = [2782, 2783, 41761, 41762, 41763];
$district_cate[2800] = [41678, 41679, 41680, 41681, 41682, 41683];
$district_cate[2801] = [2813, 2815, 2816, 41667, 41668, 41669, 41670, 41671, 41672, 41673, 41674, 41675];
$district_cate[2802] = [2847, 41684, 41685];
$district_cate[2804] = [2845, 2846, 2873, 41686, 41687, 41688, 41689];
$district_cate[2805] = [41708, 41709, 41710, 41711];
$district_cate[2809] = [41698, 41699, 41700, 41701, 41702, 41703];
$district_cate[2810] = [42259, 42260, 42262];
$district_cate[2817] = [2818, 2819, 2820, 2821, 2822, 41691, 41692];
$district_cate[2823] = [2824, 2825, 2826, 2827, 2828, 2829, 2830, 2831, 41676, 41677];
$district_cate[2833] = [2832, 2834, 2835, 2836, 41706];
$district_cate[2837] = [2838, 2839, 2840, 2841, 2842, 2843, 2844, 41707];
$district_cate[2848] = [2811, 2849, 2850, 2851, 41690];
$district_cate[2853] = [2852, 2854, 2855, 2856, 2857, 2858, 41704, 41705];
$district_cate[2859] = [2861, 2862, 2863, 2864, 41693, 41694, 41695, 41696, 41697];
$district_cate[2865] = [2806, 2812, 2866, 2867, 2868, 41712, 42274];
$district_cate[2869] = [41723, 41724, 41725];
$district_cate[2870] = [41713, 41714, 41715, 41716];
$district_cate[2871] = [41726, 41727, 41728, 41729, 41730];
$district_cate[2872] = [2807, 2808, 41717, 41718, 41719, 41720, 41721, 41722];
$district_cate[2874] = [41731, 41732, 41733, 41734, 41735];
$district_cate[2900] = [2903, 2904, 2905, 2906, 2907, 2908, 2909, 41430, 41431, 41432, 41433, 41434, 41435];
$district_cate[2901] = [2911, 41436, 41437, 41438, 41439, 41440];
$district_cate[2920] = [2912, 2913, 2914, 2915, 2916, 2917, 2918, 2919, 41457];
$district_cate[2921] = [2923, 41441, 41442, 41443, 41444];
$district_cate[2924] = [2925, 2926, 2927, 2928, 2929, 2930, 2931, 41447, 41448, 41449, 41450, 41451];
$district_cate[2932] = [2933, 2934, 2935, 2936, 2938, 2939, 2940, 2941, 41452, 41453, 41454];
$district_cate[2942] = [2943, 2944, 2945, 2946, 2947, 2948, 41456];
$district_cate[2949] = [2950, 2951, 2952, 2953, 2954, 2955, 2956, 2957, 2958, 2959, 41445, 41446];
$district_cate[2960] = [2902, 2961, 2962, 2963, 2964, 2965, 2966, 2967, 2968, 41455];
$district_cate[3000] = [41774, 41775, 41776, 41777];
$district_cate[4108] = [4100, 4101, 4102, 4103, 4104, 4105, 4106, 4107, 4109, 4110, 4111, 4112, 4113, 41062, 41063, 41064];
$district_cate[4114] = [4115, 4116, 4117, 4118, 4119, 4120, 4121, 4124, 41067, 41068, 41069];
$district_cate[4125] = [426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 41047, 41048, 41049];
$district_cate[4130] = [4126, 4127, 4128, 4129, 4146, 41039, 41040];
$district_cate[5131] = [5125, 5127, 5128, 5129, 41575, 41576];
$district_cate[19100] = [1985, 1993, 41655, 41656];
$district_cate[21115] = [2179, 21114, 41875, 41876];
$district_cate[21119] = [2186, 41877, 41878, 41879];
$district_cate[22115] = [22116, 22117, 22118, 41971, 41972];
$district_cate[22124] = [2263, 2271, 2272];
$district_cate[40000] = [40004, 40005, 40008, 41000, 41001, 41002, 41003, 41004, 41005, 41006, 41007, 41008, 41009, 41010, 41011, 41012, 41013, 41014, 42255];
$district_cate[41092] = [1321, 1373, 1374, 1375, 1376, 1377, 1378, 1379, 1380, 1381, 1382];
$district_cate[41100] = [1325, 1327, 1328, 1329, 1330, 1331, 1332, 1333, 1334, 1335, 41101, 41102, 41103];
$district_cate[41123] = [1024, 1067, 1068, 1069, 1070, 1071, 1072, 1073];
$district_cate[41124] = [1001, 1002, 1028, 1029, 1030, 1031, 1032, 1033, 1038, 1042, 41125, 41126, 41127];
$district_cate[41128] = [1025, 1026, 1075, 1076, 1077, 1078, 41129];
$district_cate[41130] = [1012, 1044, 1046, 1047, 1048, 1049, 1050, 1051, 1052, 1053, 1054];
$district_cate[41131] = [1040, 1056, 1064, 1065, 1066, 41132];
$district_cate[41133] = [1027, 1039, 1080, 1081, 1082, 1083, 1084, 1085, 1086, 1087, 1088, 41134];
$district_cate[41135] = [1045, 1079, 41136];
$district_cate[41226] = [702, 720, 721, 722, 723, 724, 725, 726];
$district_cate[41428] = [1248, 1249, 1250, 1251];
$district_cate[41626] = [1817, 1865, 1866, 1867, 1868, 1869, 1870, 1871];
$district_cate[41666] = [1983, 1984, 1987, 1988, 1989, 1990, 1991, 1992];
$district_cate[41880] = [2121, 21113, 21117, 41881, 41882, 41883, 41884, 41885, 41886, 41887, 41888, 41889, 41890];
$district_cate[41891] = [21118, 41892, 41893, 41894, 41895, 41896, 41897, 41898, 41899, 41900, 41901, 41902, 41903, 41904, 41905, 41906, 41907, 41908];
$district_cate[41909] = [2119, 2154, 2159, 21102, 21103, 21104, 21105, 21106, 21107, 41910, 41911, 41912, 41913, 41914, 41915, 41916, 41917];
$district_cate[41934] = [2005, 2041, 2042, 41935, 41936, 41937, 41938, 41939, 41940, 41941];
$district_cate[41942] = [2008, 41943, 41944, 41945, 41946, 41947, 41948, 41949];
$district_cate[41950] = [2006, 2043, 2044, 2045, 2046, 2047, 2048, 2049];
$district_cate[41951] = [2004, 2034, 2035, 2036, 2037, 2038, 2039, 2040, 2050, 2053, 2054, 41952, 41953, 41954, 41955, 41956];
$district_cate[41957] = [2003, 2026, 2027, 2028, 2029, 2030, 2031, 2032, 2033, 41958, 41959, 41960];
$district_cate[41975] = [2231, 2232, 2233, 2288, 2289, 2290, 2291, 2292, 2293, 2294];
$district_cate[41976] = [2213, 2273, 2274, 2275, 2276, 2277, 2278, 2279, 2280, 2281, 2282, 22120, 22123];
$district_cate[41977] = [2220, 2242, 2262, 2284, 2285, 2286, 2287, 41978];
$district_cate[41979] = [2210, 2211, 2212, 2295, 2296, 2297, 2298, 2299, 22100, 22101, 22102, 22114];
$district_cate[41980] = [22106, 22107, 22109, 22110, 22111];
$district_cate[41981] = [2238, 2239, 22121, 41982];
$district_cate[41983] = [41984, 41985, 41986];
$district_cate[41995] = [2604, 2605, 2606, 2607, 2608, 2609, 41996, 41997, 41998, 41999, 42000];
$district_cate[42013] = [2601, 42014, 42015, 42016, 42017, 42018, 42019, 42020, 42021, 42022, 42023, 42024, 42025, 42026, 42027, 42028, 42029, 42030];
$district_cate[42031] = [2610, 2611, 2612, 2613, 2616, 42032, 42033, 42034, 42035, 42036];
$district_cate[42043] = [2603, 42044, 42045, 42046, 42047, 42048, 42049];
$district_cate[42075] = [1428, 1466, 1467, 1468, 1469, 1470, 1471];
$district_cate[42092] = [1513, 1572, 1573, 1574, 1576, 1577, 1578, 1579, 42093];
$district_cate[42094] = [1514, 1515, 1516, 1517, 1518, 1519, 1520, 42095];
$district_cate[42096] = [1522, 1523, 1524, 1525, 1526, 1527, 1528, 42097];
$district_cate[42102] = [2508, 2529, 42103, 42104];
$district_cate[42105] = [2503, 2510, 2518, 2519];
$district_cate[42106] = [2504, 2526, 42107, 42108, 42109];
$district_cate[42110] = [2505, 42111, 42112, 42113, 42114, 42115];
$district_cate[42116] = [2506, 42117, 42118, 42119, 42120, 42121];
$district_cate[42122] = [2507, 2509, 2521, 2522, 2523];
$district_cate[42149] = [2305, 42150, 42151];
$district_cate[42152] = [2304, 42153, 42154];
$district_cate[42155] = [42156, 42157, 42159, 42160, 42161, 42162, 42163];
$district_cate[42164] = [42165, 42166, 42167];
$district_cate[42168] = [42169, 42170, 42171, 42172, 42173, 42174, 42175, 42176, 42177];
$district_cate[42178] = [42179, 42180, 42181, 42182, 42183, 42184, 42185, 42186, 42187];
$district_cate[42188] = [42189, 42190, 42191, 42192];
$district_cate[42193] = [2303, 42194, 42195, 42196, 42197, 42198, 42199, 42200, 42201, 42202, 42203, 42204];
$district_cate[42205] = [42206, 42207, 42208, 42209, 42210, 42211, 42212, 42213];
$district_cate[42214] = [2306, 42215, 42216, 42217, 42218, 42219, 42220, 42221, 42222, 42223];
$district_cate[42224] = [42225, 42226, 42227, 42228, 42229, 42230, 42231];
$district_cate[42232] = [42233, 42234, 42235, 42236, 42237, 42238, 42239];
$district_cate[42253] = [42254];

$email = $data["mail"];
$username = $data["username"];
$nickname = $data["nickname"];
$password = $data["password"];
$sex = $data["sex"];
$province = $data["province"];
$city = $data["city"];
$area = $data["area"];


if (!preg_match("/^[A-Za-z0-9]+([_]+[A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/", $email)) {
    $ans["status"] = 2001;
    exit(json_encode($ans));
}

if (!preg_match("/^[A-Za-z][A-Za-z0-9_]{3,19}$/", $username)) {
    $ans["status"] = 2002;
    exit(json_encode($ans));
}

if (!preg_match("/^[A-Za-z][A-Za-z0-9_]{3,19}$/", $nickname)) {
    $ans["status"] = 2003;
    exit(json_encode($ans));
}

if (!preg_match("/^.{6,32}$/", $password)) {
    $ans["status"] = 2004;
    exit(json_encode($ans));
}

if (!preg_match("/^[12]$/", $sex)) {
    $ans["status"] = 2005;
    exit(json_encode($ans));
}

try {
    $birthday = new DateTime($data["birthday"]);
    if ($birthday > new DateTime()) {
        //日期超过今天
        $ans["status"] = 2006;
        exit(json_encode($ans));
    }
} catch (Exception $e) {
    //日期输入格式不对
    $ans["status"] = 2007;
    exit(json_encode($ans));
}

try {
    if (array_search($city, $district_cate[$province]) === false) {
        //城市不在该省份里
        $ans["status"] = 2008;
        exit(json_encode($ans));
    }
    if (array_search($area, $district_cate[$city]) === false) {
        //县区不在该城市里
        $ans["status"] = 2009;
        exit(json_encode($ans));
    }
} catch (Exception $e) {
    //有不存在的省份城市地区
    $ans["status"] = 2010;
    exit(json_encode($ans));
}


$conn = mysqli_connect("localhost", "root", "wi2MyfO4,ci&", "project1");
if (!$conn) {
    //数据库连接失败
    $ans["status"] = 3001;
    exit(json_encode($ans));
}
if (!mysqli_set_charset($conn, "utf8MB4")) {
    //字符集设置失败
    $ans["status"] = 3002;
    exit(json_encode($ans));
}

$sql = "select username from users where username = '$username'";
$result = mysqli_query($conn, $sql);
if (mysqli_fetch_array($result)) {
    //用户名已存在
    $ans["status"] = 3003;
    exit(json_encode($ans));
}

$date = date("Y-m-d H:i:s");
$birthday = $birthday->format("Y-m-d");
$sql = "INSERT INTO users " .
    "(username,nickname, password,email,birthday,sex,province,city,area,last_login_at,updated_at,created_at) " .
    "VALUES " .
    "('$username','$nickname','$password','$email','$birthday','$sex','$province','$city','$area','$date','$date','$date')";

$result = mysqli_query($conn, $sql);
if (!$result) {
    //插入数据库失败
    $ans["status"] = 3004;
}
session_start();
$_SESSION["project1_username"] = $username;
$_SESSION["project1_password"] = $password;
session_write_close();
//setcookie("project1_username",$username,time()+7*86400);
//setcookie("project1_password",$password,time()+7*86400);//前端直接保存cookie



exit(json_encode($ans));